{"version":3,"sources":["../../src/core/login/pages/pflogin/pflogin.module.ts","../../src/core/login/pages/pflogin/pflogin.ts"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;AAEQ;AACO;AACG;AACG;AACe;AACA;AAarE;IAAA;IAA4C,CAAC;IAAhC,4BAA4B;QAXxC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,wEAAsB;aACvB;YACD,OAAO,EAAE;gBACP,2FAAoB;gBACpB,2FAAoB;gBACpB,sEAAe,CAAC,QAAQ,CAAC,wEAAsB,CAAC;gBAChD,4EAAe,CAAC,QAAQ,EAAE;aAC3B;SACF,CAAC;OACW,4BAA4B,CAAI;IAAD,mCAAC;CAAA;AAAJ;;;;;;;;;AChCzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAsC;AACtC,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,iDAAiD;AACjD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;;;;;;;;;;AAES;AACyB;AACZ;AACN;AACM;AACkB;AACb;AACD;AACM;AACgB;AACI;AACjB;AACN;AAE9D;;GAEG;AAMH;IAmBI,gCAAoB,QAAkB,EAAU,SAAgC,EACpE,OAAsB,EAAE,SAAoB,EAAE,EAAe,EAAU,WAA4B,EACnG,aAAgC,EAAU,WAAoC,EAC9E,QAA8B,EAAU,SAA2B,EAAU,KAAwB,EACrG,cAAkC,EAAU,oBAA8C,EAC1F,kBAAkD;QAL9D,iBAkCC;QAlCmB,aAAQ,GAAR,QAAQ,CAAU;QAAU,cAAS,GAAT,SAAS,CAAuB;QACpE,YAAO,GAAP,OAAO,CAAe;QAAiD,gBAAW,GAAX,WAAW,CAAiB;QACnG,kBAAa,GAAb,aAAa,CAAmB;QAAU,gBAAW,GAAX,WAAW,CAAyB;QAC9E,aAAQ,GAAR,QAAQ,CAAsB;QAAU,cAAS,GAAT,SAAS,CAAkB;QAAU,UAAK,GAAL,KAAK,CAAmB;QACrG,mBAAc,GAAd,cAAc,CAAoB;QAAU,yBAAoB,GAApB,oBAAoB,CAA0B;QAC1F,uBAAkB,GAAlB,kBAAkB,CAAgC;QArB9D,gBAAW,GAAG,KAAK,CAAC;QAMpB,eAAU,GAAG,KAAK,CAAC;QACnB,iBAAY,GAAG,KAAK,CAAC;QACrB,kBAAa,GAAG,KAAK,CAAC;QAGZ,gBAAW,GAAG,KAAK,CAAC;QACpB,aAAQ,GAAG,KAAK,CAAC;QAWvB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAE5C,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC;YACrB,QAAQ,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,mEAAU,CAAC,QAAQ,CAAC;YAChE,GAAG,EAAE,CAAC,EAAE,EAAE,mEAAU,CAAC,QAAQ,CAAC;SACjC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,UAAC,KAAK;YAC3C,sDAAsD;YACtD,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI;gBACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;gBACxD,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBAEf,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC,CAAC,CAAC;QAEP,CAAC,CAAC,CAAC,KAAK,CAAC;YACL,oBAAoB;QACxB,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YAClB,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;gBAC1B,KAAI,CAAC,sBAAsB,EAAE,CAAC;YAClC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,+CAAc,GAAd;QACI,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;QAEtD,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACrB,4DAA4D;YAC5D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAC3B,CAAC;IACL,CAAC;IAED;;OAEG;IACH,gDAAe,GAAf;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,6EAAkB,CAAC,oBAAoB,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACnH,CAAC;IAED;;;;;;OAMG;IACO,0CAAS,GAAnB,UAAoB,OAAe;QAAnC,iBAoCC;QAnCG,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,oGAAoG;QACpG,IAAM,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAE1E,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YAE/D,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAE9B,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;YAChC,KAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC3B,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,CAAC;YAED,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjD,gDAAgD;gBAChD,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAEzB,gFAAgF;gBAChF,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,0BAA0B,EAAE,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACnE,KAAI,CAAC,WAAW,CAAC,gCAAgC,CAC7C,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAC/F,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC9B,CAAC;QAEL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YACX,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC,OAAO,CAAC;YACP,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACO,gDAAe,GAAzB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;YACzC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;YACzE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;YAC5G,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACrH,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,yBAAyB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAErF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,6EAAkB,CAAC,kBAAkB,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;YACpG,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAChC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,sCAAK,GAAL,UAAM,CAAS;QAAf,iBAgFC;QA/EG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;QACxB,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;QAEjC,kBAAkB;QAClB,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,EACxB,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EACvC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;QAElC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACzC,gGAAgG;YAChG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;gBACzB,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBACrB,yDAAyD;oBACzD,MAAM,CAAC,KAAI,CAAC,KAAK,EAAE,CAAC;gBACxB,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC;QACX,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;YAE5D,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACP,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;YAEtD,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,gCAAgC,EAAE,IAAI,CAAC,CAAC;YAErE,MAAM,CAAC;QACX,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;YAE3D,MAAM,CAAC;QACX,CAAC;QAED,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;QAE/C,oCAAoC;QACpC,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,OAAO,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACrE,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAC,EAAE;gBACnF,uDAAuD;gBACvD,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,CAAC;gBAC3C,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;gBAEtC,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBAEjB,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACjB,kCAAkC;oBAClC,MAAM,CAAC,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,KAAI,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;wBAC7F,IAAM,MAAM,GAAG,KAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;wBACpE,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;4BAChC,sEAAsE;4BACtE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBACnC,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,MAAM,CAAC,KAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBAClD,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,KAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBAClD,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YACvB,uCAAuC;YAC3B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,KAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC,OAAO,CAAC;YACP,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,+CAAc,GAAd;QACI,uDAAuD;QACvD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;IAC9F,CAAC;IACS,uDAAsB,GAAhC;QAAA,iBAkBC;QAjBG,IAAM,KAAK,GAAG,CAAC,CAAC;QAChB,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAC9B,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAEzB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;YAC9C,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;gBACxC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC5B,8CAA8C;gBAC9C,KAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAC,QAAQ;oBACxC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;wBACZ,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC7C,CAAC;gBACL,CAAC,CAAC,CAAC;gBACnB,qCAAqC;YACzB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YACf,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IApQQ,sBAAsB;QAJlC,wEAAS,CAAC;YACP,QAAQ,EAAE,2BAA2B;WACV;SAC9B,CAAC;wNAoBwC,EAAqB,wEAAqB;YAC3D,2EAA0B,oFAAiD,CAAe;YACpF,kFAAwC,kKAAuB;YACpE,+EAAoB,uGAAsD,CAAiB;YACrF,4GAAkD,EAAwB;YACtE,mBAA8B;OAxBrD,sBAAsB,CAqQlC;IAAD,CAAC;AAAA;SArQY,sBAAsB,I","file":"33.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PfLoginCredentialsPage } from './pflogin';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\n\n@NgModule({\n  declarations: [\n    PfLoginCredentialsPage\n  ],\n  imports: [\n    CoreComponentsModule,\n    CoreDirectivesModule,\n    IonicPageModule.forChild(PfLoginCredentialsPage),\n    TranslateModule.forChild()\n  ]\n})\nexport class PfLoginCredentialsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/login/pages/pflogin/pflogin.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CoreAppProvider } from '@providers/app';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreSitesProvider , CoreSiteBasicInfo } from '@providers/sites';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { CoreUtilsProvider } from '@providers/utils/utils';\nimport { CoreLoginHelperProvider } from '../../providers/helper';\nimport { CoreContentLinksDelegate } from '@core/contentlinks/providers/delegate';\nimport { CoreContentLinksHelperProvider } from '@core/contentlinks/providers/helper';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { CoreTextUtilsProvider } from '@providers/utils/text';\n\n/**\n * Page to enter the user credentials.\n */\n@IonicPage({ segment: 'pf-login-credentials' })\n@Component({\n    selector: 'page-pf-login-credentials',\n    templateUrl: 'pflogin.html',\n})\nexport class PfLoginCredentialsPage {\n    credForm: FormGroup;\n    siteUrl: string;\n    siteChecked = false;\n    siteName: string;\n    logoUrl: string;\n    authInstructions: string;\n    canSignup: boolean;\n    identityProviders: any[];\n    pageLoaded = false;\n    isBrowserSSO = false;\n    isFixedUrlSet = false;\n    sites: CoreSiteBasicInfo[];\n    protected siteConfig;\n    protected eventThrown = false;\n    protected viewLeft = false;\n    protected siteId: string;\n    protected urlToOpen: string;\n\n    constructor(private platform: Platform, private textUtils: CoreTextUtilsProvider,\n        private navCtrl: NavController, navParams: NavParams, fb: FormBuilder, private appProvider: CoreAppProvider,\n        private sitesProvider: CoreSitesProvider, private loginHelper: CoreLoginHelperProvider,\n        private domUtils: CoreDomUtilsProvider, private translate: TranslateService, private utils: CoreUtilsProvider,\n        private eventsProvider: CoreEventsProvider, private contentLinksDelegate: CoreContentLinksDelegate,\n        private contentLinksHelper: CoreContentLinksHelperProvider) {\n\n        this.siteUrl = navParams.get('siteUrl');\n        this.siteConfig = navParams.get('siteConfig');\n        this.urlToOpen = navParams.get('urlToOpen');\n\n        this.credForm = fb.group({\n            pfnumber: [navParams.get('pfnumber') || '', Validators.required],\n            pin: ['', Validators.required]\n        });\n\n        this.sitesProvider.getSortedSites().then((sites) => {\n            // Remove protocol from the url to show more url text.\n            this.sites = sites.map((site) => {\n                site.siteUrl = site.siteUrl.replace(/^https?:\\/\\//, '');\n                site.badge = 0;\n\n                return site;\n            });\n\n        }).catch(() => {\n            // Shouldn't happen.\n        });\n\n        platform.ready().then(() => {\n            this.platform.pause.subscribe(() => {\n                this.customLogOutWithDelete();\n            });\n        });\n    }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n        this.treatSiteConfig();\n        this.isFixedUrlSet = this.loginHelper.isFixedUrlSet();\n\n        if (this.isFixedUrlSet) {\n            // Fixed URL, we need to check if it uses browser SSO login.\n            this.checkSite(this.siteUrl);\n        } else {\n            this.siteChecked = true;\n            this.pageLoaded = true;\n        }\n    }\n\n    /**\n     * View left.\n     */\n    ionViewDidLeave(): void {\n        this.viewLeft = true;\n        this.eventsProvider.trigger(CoreEventsProvider.LOGIN_SITE_UNCHECKED, { config: this.siteConfig }, this.siteId);\n    }\n\n    /**\n     * Check if a site uses local_mobile, requires SSO login, etc.\n     * This should be used only if a fixed URL is set, otherwise this check is already performed in CoreLoginSitePage.\n     *\n     * @param {string} siteUrl Site URL to check.\n     * @return {Promise<any>} Promise resolved when done.\n     */\n    protected checkSite(siteUrl: string): Promise<any> {\n        this.pageLoaded = false;\n\n        // If the site is configured with http:// protocol we force that one, otherwise we use default mode.\n        const protocol = siteUrl.indexOf('http://') === 0 ? 'http://' : undefined;\n\n        return this.sitesProvider.checkSite(siteUrl, protocol).then((result) => {\n\n            this.siteChecked = true;\n            this.siteUrl = result.siteUrl;\n\n            this.siteConfig = result.config;\n            this.treatSiteConfig();\n\n            if (result && result.warning) {\n                this.domUtils.showErrorModal(result.warning, true, 4000);\n            }\n\n            if (this.loginHelper.isSSOLoginNeeded(result.code)) {\n                // SSO. User needs to authenticate in a browser.\n                this.isBrowserSSO = true;\n\n                // Check that there's no SSO authentication ongoing and the view hasn't changed.\n                if (!this.appProvider.isSSOAuthenticationOngoing() && !this.viewLeft) {\n                    this.loginHelper.confirmAndOpenBrowserForSSOLogin(\n                        result.siteUrl, result.code, result.service, result.config && result.config.launchurl);\n                }\n            } else {\n                this.isBrowserSSO = false;\n            }\n\n        }).catch((error) => {\n            this.domUtils.showErrorModal(error);\n        }).finally(() => {\n            this.pageLoaded = true;\n        });\n    }\n\n    /**\n     * Treat the site configuration (if it exists).\n     */\n    protected treatSiteConfig(): void {\n        if (this.siteConfig) {\n            this.siteName = this.siteConfig.sitename;\n            this.logoUrl = this.siteConfig.logourl || this.siteConfig.compactlogourl;\n            this.authInstructions = this.siteConfig.authinstructions || this.translate.instant('core.login.loginsteps');\n            this.canSignup = this.siteConfig.registerauth == 'email' && !this.loginHelper.isEmailSignupDisabled(this.siteConfig);\n            this.identityProviders = this.loginHelper.getValidIdentityProviders(this.siteConfig);\n\n            if (!this.eventThrown && !this.viewLeft) {\n                this.eventThrown = true;\n                this.eventsProvider.trigger(CoreEventsProvider.LOGIN_SITE_CHECKED, { config: this.siteConfig });\n            }\n        } else {\n            this.siteName = null;\n            this.logoUrl = null;\n            this.authInstructions = null;\n            this.canSignup = false;\n            this.identityProviders = [];\n        }\n    }\n\n    /**\n     * Tries to authenticate the user.\n     *\n     * @param {Event} [e] Event.\n     */\n    login(e?: Event): void {\n        if (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n\n        this.appProvider.closeKeyboard();\n\n        // Get input data.\n        const siteUrl = this.siteUrl,\n            pfnumber = this.credForm.value.pfnumber,\n            pin = this.credForm.value.pin;\n\n        if (!this.siteChecked || this.isBrowserSSO) {\n            // Site wasn't checked (it failed) or a previous check determined it was SSO. Let's check again.\n            this.checkSite(siteUrl).then(() => {\n                if (!this.isBrowserSSO) {\n                    // Site doesn't use browser SSO, throw app's login again.\n                    return this.login();\n                }\n            });\n\n            return;\n        }\n\n        if (!pfnumber) {\n            this.domUtils.showErrorModal('PF number is required', true);\n\n            return;\n        }\n        if (!pin) {\n            this.domUtils.showErrorModal('PIN is required', true);\n\n            return;\n        }\n        if (pin.length != 6) {\n            this.domUtils.showErrorModal('Invalid PIN, please try again.', true);\n\n            return;\n        }\n\n        if (!this.appProvider.isOnline()) {\n            this.domUtils.showErrorModal('core.networkerrormsg', true);\n\n            return;\n        }\n\n        const modal = this.domUtils.showModalLoading();\n\n        // Start the authentication process.\n        this.sitesProvider.getUserTokenFromPin(siteUrl, pfnumber, pin).then((data) => {\n            return this.sitesProvider.newSite(data.siteUrl, data.token, data.privateToken).then((id) => {\n                // Reset fields so the data is not in the view anymore.\n                this.credForm.controls['pfnumber'].reset();\n                this.credForm.controls['pin'].reset();\n\n                this.siteId = id;\n\n                if (this.urlToOpen) {\n                    // There's a content link to open.\n                    return this.contentLinksDelegate.getActionsFor(this.urlToOpen, undefined, pfnumber).then((actions) => {\n                        const action = this.contentLinksHelper.getFirstValidAction(actions);\n                        if (action && action.sites.length) {\n                            // Action should only have 1 site because we're filtering by username.\n                            action.action(action.sites[0]);\n                        } else {\n                            return this.loginHelper.goToSiteInitialPage();\n                        }\n                    });\n                } else {\n                    return this.loginHelper.goToSiteInitialPage();\n                }\n            });\n        }).catch((error) => {\n// tslint:disable-next-line: no-console\n            console.log(error);\n            this.loginHelper.treatUserTokenError(siteUrl, error, pfnumber, pin);\n        }).finally(() => {\n            modal.dismiss();\n        });\n    }\n\n    /**\n     * Forgotten password button clicked.\n     */\n    firstTimeLogin(): void {\n        // Check if password reset can be done through the app.\n        this.navCtrl.push('OtploginPage', { siteUrl: this.siteUrl, siteConfig: this.siteConfig });\n    }\n    protected customLogOutWithDelete(): void {\n        const index = 0;\n        const site = this.sites[index],\n        siteName = site.siteName;\n\n        this.textUtils.formatText(siteName).then((siteName) => {\n            this.sitesProvider.deleteSite(site.id).then(() => {\n                this.sites.splice(index, 1);\n                // If there are no sites left, go to add site.\n                this.sitesProvider.hasSites().then((hasSites) => {\n                    if (!hasSites) {\n                        this.loginHelper.goToAddSite(true, true);\n                    }\n                });\n// tslint:disable-next-line: no-empty\n            }).catch((error) => {\n            });\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/login/pages/pflogin/pflogin.ts"],"sourceRoot":""}